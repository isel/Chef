require 'rest-client'

RestClient.log = '<%= node['ruby_scripts_dir'] %>/rest.log'
site = RestClient::Resource.new('<%= @api_infrastructure_url %>', {:timeout => 500})

response = site['<%= @deployment_uri %>/settings.json'].get
File.open('<%= node['ruby_scripts_dir'] %>/deployment_settings.txt', 'w') { |f| f.puts response }